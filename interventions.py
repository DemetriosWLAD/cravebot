#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
–ú–æ–¥—É–ª—å –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–π –¥–ª—è –±–æ—Ä—å–±—ã —Å –∏–º–ø—É–ª—å—Å–∞–º–∏
–î—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏, –∫–æ—É—á–∏–Ω–≥–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –º–∏–Ω–∏-–∏–≥—Ä—ã
"""

import random
from typing import Dict, List

class InterventionManager:
    def __init__(self):
        self.breathing_exercises = self._init_breathing_exercises()
        self.coaching_questions = self._init_coaching_questions()
        self.mini_games = self._init_mini_games()
    
    def _init_breathing_exercises(self) -> List[Dict]:
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–∏–∫"""
        return [
            {
                "name": "4-7-8 –¥—ã—Ö–∞–Ω–∏–µ",
                "instruction": """ü´Å **–¢–µ—Ö–Ω–∏–∫–∞ 4-7-8**

1Ô∏è‚É£ –í–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ –Ω–æ—Å –Ω–∞ 4 —Å—á–µ—Ç–∞
2Ô∏è‚É£ –ó–∞–¥–µ—Ä–∂–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ –Ω–∞ 7 —Å—á–µ—Ç–æ–≤  
3Ô∏è‚É£ –í—ã–¥–æ—Ö–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ —Ä–æ—Ç –Ω–∞ 8 —Å—á–µ—Ç–æ–≤
4Ô∏è‚É£ –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ 3-4 —Ä–∞–∑–∞

–≠—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞—Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ —Å–Ω–∏–∑–∏—Ç—å —Å—Ç—Ä–µ—Å—Å.""",
                "duration": 60
            },
            {
                "name": "–ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ",
                "instruction": """üü¶ **–ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ**

1Ô∏è‚É£ –í–¥–æ—Ö –Ω–∞ 4 —Å—á–µ—Ç–∞
2Ô∏è‚É£ –ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ 4 —Å—á–µ—Ç–∞
3Ô∏è‚É£ –í—ã–¥–æ—Ö –Ω–∞ 4 —Å—á–µ—Ç–∞  
4Ô∏è‚É£ –ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ 4 —Å—á–µ—Ç–∞
üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ 5-6 —Ä–∞–∑

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —Ä–∏—Å—É–µ—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç –¥—ã—Ö–∞–Ω–∏–µ–º. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –∏ —É—Å–ø–æ–∫–æ–∏—Ç—å—Å—è.""",
                "duration": 80
            },
            {
                "name": "–î—ã—Ö–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–æ–º",
                "instruction": """ü§∞ **–î–∏–∞—Ñ—Ä–∞–≥–º–∞–ª—å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ**

1Ô∏è‚É£ –ü–æ–ª–æ–∂–∏—Ç–µ –æ–¥–Ω—É —Ä—É–∫—É –Ω–∞ –≥—Ä—É–¥—å, –¥—Ä—É–≥—É—é –Ω–∞ –∂–∏–≤–æ—Ç
2Ô∏è‚É£ –ú–µ–¥–ª–µ–Ω–Ω–æ –≤–¥—ã—Ö–∞–π—Ç–µ –Ω–æ—Å–æ–º, —Ä–∞—Å—à–∏—Ä—è—è –∂–∏–≤–æ—Ç
3Ô∏è‚É£ –ú–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–¥—ã—Ö–∞–π—Ç–µ —Ä—Ç–æ–º, —Å–∂–∏–º–∞—è –∂–∏–≤–æ—Ç
4Ô∏è‚É£ –ì—Ä—É–¥—å –¥–æ–ª–∂–Ω–∞ –ø–æ—á—Ç–∏ –Ω–µ –¥–≤–∏–≥–∞—Ç—å—Å—è

–î—ã—à–∏—Ç–µ –≥–ª—É–±–æ–∫–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ 1-2 –º–∏–Ω—É—Ç—ã.""",
                "duration": 90
            },
            {
                "name": "–î—ã—Ö–∞–Ω–∏–µ 5-5",
                "instruction": """‚öñÔ∏è **–†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 5-5**

1Ô∏è‚É£ –í–¥–æ—Ö–Ω–∏—Ç–µ –Ω–∞ 5 —Å—á–µ—Ç–æ–≤
2Ô∏è‚É£ –í—ã–¥–æ—Ö–Ω–∏—Ç–µ –Ω–∞ 5 —Å—á–µ—Ç–æ–≤
3Ô∏è‚É£ –ë–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –¥—ã—Ö–∞–Ω–∏—è
4Ô∏è‚É£ –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ 8-10 —Ä–∞–∑

–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—á–µ—Ç–µ. –ü—É—Å—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –º—ã—Å–ª—å—é –≤ –≥–æ–ª–æ–≤–µ.""",
                "duration": 75
            }
        ]
    
    def _init_coaching_questions(self) -> List[str]:
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—É—á–∏–Ω–≥–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤"""
        return [
            "ü§î –ß—Ç–æ —è –ø–æ—á—É–≤—Å—Ç–≤—É—é —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç, –µ—Å–ª–∏ –ù–ï –ø–æ–¥–¥–∞–º—Å—è —ç—Ç–æ–º—É –∏–º–ø—É–ª—å—Å—É?",
            "üí≠ –ö–∞–∫—É—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É —è –º–æ–≥—É –≤—ã–±—Ä–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?",
            "üéØ –ö–∞–∫ —ç—Ç–æ—Ç –≤—ã–±–æ—Ä —Å–æ–æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å –º–æ–∏–º–∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–º–∏ —Ü–µ–ª—è–º–∏?",
            "üòå –ß—Ç–æ –±—ã —è –ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞–ª –±–ª–∏–∑–∫–æ–º—É –¥—Ä—É–≥—É –≤ —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?",
            "‚è∞ –ú–æ–≥—É –ª–∏ —è –æ—Ç–ª–æ–∂–∏—Ç—å —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ 15 –º–∏–Ω—É—Ç?",
            "üí™ –ö–∞–∫–∞—è –º–æ—è —Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –ø–æ–º–æ–∂–µ—Ç –º–Ω–µ —Å–µ–π—á–∞—Å —É—Å—Ç–æ—è—Ç—å?",
            "üåü –ß—Ç–æ —è –±—É–¥—É —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –∑–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º, –µ—Å–ª–∏ —Å–ø—Ä–∞–≤–ª—é—Å—å —Å —ç—Ç–∏–º –∏–º–ø—É–ª—å—Å–æ–º?",
            "üîç –ß—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ –º–Ω–æ–π —Å–µ–π—á–∞—Å? –£—Å—Ç–∞–ª–æ—Å—Ç—å? –°—Ç—Ä–µ—Å—Å? –°–∫—É–∫–∞?",
            "üèÜ –ö–æ–≥–¥–∞ —è –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –≥–æ—Ä–¥–∏–ª—Å—è —Å–æ–±–æ–π –∑–∞ —Ç–æ, —á—Ç–æ —É—Å—Ç–æ—è–ª?",
            "üåà –ö–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏–±–ª–∏–∑–∏—Ç –º–µ–Ω—è –∫ —Ç–æ–º—É —á–µ–ª–æ–≤–µ–∫—É, –∫–æ—Ç–æ—Ä—ã–º —è —Ö–æ—á—É —Å—Ç–∞—Ç—å?",
            "‚ù§Ô∏è –ß—Ç–æ –≤–∞–∂–Ω–µ–µ –¥–ª—è –º–µ–Ω—è –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ?",
            "üöÄ –ö–∞–∫ —è –º–æ–≥—É –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –≤ –ø–æ–±–µ–¥—É?",
            "üßò‚Äç‚ôÄÔ∏è –ß—Ç–æ –º–æ–µ —Ç–µ–ª–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—ã—Ç–∞–µ—Ç—Å—è –º–Ω–µ —Å–∫–∞–∑–∞—Ç—å?",
            "üéÅ –ö–∞–∫–æ–π –ø–æ–¥–∞—Ä–æ–∫ —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å —Å–µ–±–µ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ?",
            "üìà –ö–∞–∫ —ç—Ç–æ—Ç –≤—ã–±–æ—Ä –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –º–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å?"
        ]
    
    def _init_mini_games(self) -> List[Dict]:
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏-–∏–≥—Ä –¥–ª—è –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è"""
        return [
            {
                "name": "–°—á–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç",
                "description": "–ò–≥—Ä–∞ –Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è",
                "task": """üî¢ –°—á–∏—Ç–∞–π—Ç–µ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –æ—Ç 100 –¥–æ 1, –Ω–æ:

‚ñ™Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ –≤—Å–µ —á–∏—Å–ª–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Ü–∏—Ñ—Ä—É 7
‚ñ™Ô∏è –í–º–µ—Å—Ç–æ —á–∏—Å–µ–ª, –∫—Ä–∞—Ç–Ω—ã—Ö 5, –≥–æ–≤–æ—Ä–∏—Ç–µ '–ë–£–ú'
‚ñ™Ô∏è –ü—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞

–ü—Ä–∏–º–µ—Ä: 100, 99, 98, 96, –ë–£–ú, 94, 93, 92, 91, –ë–£–ú...

–≠—Ç–∞ –∏–≥—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –∏ –æ—Ç–≤–ª–µ—á–µ—Ç –æ—Ç –∏–º–ø—É–ª—å—Å–∞!"""
            },
            {
                "name": "–ê–Ω–∞–≥—Ä–∞–º–º—ã",
                "description": "–°–ª–æ–≤–µ—Å–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è",
                "task": f"""üî§ –°–æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ —Å–ª–æ–≤ –∏–∑ –±—É–∫–≤ —Å–ª–æ–≤–∞:

**'{random.choice(['–ü–°–ò–•–û–õ–û–ì–ò–Ø', '–ú–û–¢–ò–í–ê–¶–ò–Ø', '–ö–û–ù–¶–ï–ù–¢–†–ê–¶–ò–Ø', '–î–û–°–¢–ò–ñ–ï–ù–ò–ï', '–£–ü–û–†–°–¢–í–û'])}'**

–ü—Ä–∞–≤–∏–ª–∞:
‚ñ™Ô∏è –ö–∞–∂–¥—É—é –±—É–∫–≤—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ –æ–Ω–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–ª–æ–≤–µ
‚ñ™Ô∏è –°–ª–æ–≤–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ –∫–æ—Ä–æ—á–µ 3 –±—É–∫–≤
‚ñ™Ô∏è –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –º–∏–Ω–∏–º—É–º 10 —Å–ª–æ–≤

–í—Ä–µ–º—è –ø–æ—à–ª–æ! üïê"""
            },
            {
                "name": "–¶–≤–µ—Ç–æ–≤–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è",
                "description": "–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —É—Å–ø–æ–∫–æ–µ–Ω–∏—è –∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è",
                "task": """üåà –¶–≤–µ—Ç–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:

1Ô∏è‚É£ –ó–∞–∫—Ä–æ–π—Ç–µ –≥–ª–∞–∑–∞
2Ô∏è‚É£ –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç - –≥–¥–µ –≤—ã –µ–≥–æ –≤–∏–¥–∏—Ç–µ?
3Ô∏è‚É£ –ú–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –æ—Ä–∞–Ω–∂–µ–≤–æ–º—É
4Ô∏è‚É£ –ó–∞—Ç–µ–º –∫ –∂–µ–ª—Ç–æ–º—É, –∑–µ–ª–µ–Ω–æ–º—É, –≥–æ–ª—É–±–æ–º—É, —Å–∏–Ω–µ–º—É, —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–º—É
5Ô∏è‚É£ –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ü–≤–µ—Ç–∞ –ø—Ä–∏–¥—É–º–∞–π—Ç–µ 3 –ø—Ä–µ–¥–º–µ—Ç–∞ —Ç–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞
6Ô∏è‚É£ –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, –∫–∞–∫ —ç—Ç–∏ —Ü–≤–µ—Ç–∞ –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ç–µ–∫–∞—é—Ç –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞

–ü–æ—Ç—Ä–∞—Ç—å—Ç–µ –Ω–∞ –∫–∞–∂–¥—ã–π —Ü–≤–µ—Ç –º–∏–Ω–∏–º—É–º 20 —Å–µ–∫—É–Ω–¥."""
            },
            {
                "name": "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞–∑–∑–ª—ã",
                "description": "–õ–æ–≥–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è",
                "task": f"""üßÆ –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É:

**–ó–∞–¥–∞—á–∞ #{random.randint(1, 5)}:**

{random.choice([
    '–ï—Å–ª–∏ 2 –∫—É—Ä–∏—Ü—ã –Ω–µ—Å—É—Ç 2 —è–π—Ü–∞ –∑–∞ 2 –¥–Ω—è, —Å–∫–æ–ª—å–∫–æ —è–∏—Ü —Å–Ω–µ—Å—É—Ç 6 –∫—É—Ä–∏—Ü –∑–∞ 6 –¥–Ω–µ–π?',
    '–£ –≤–∞—Å –µ—Å—Ç—å 3 –∫–æ—Ä–æ–±–∫–∏: –≤ –æ–¥–Ω–æ–π —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Å–Ω—ã–µ —à–∞—Ä—ã, –≤ –¥—Ä—É–≥–æ–π —Ç–æ–ª—å–∫–æ —Å–∏–Ω–∏–µ, –≤ —Ç—Ä–µ—Ç—å–µ–π - –∫—Ä–∞—Å–Ω—ã–µ –∏ —Å–∏–Ω–∏–µ. –í—Å–µ –∫–æ—Ä–æ–±–∫–∏ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –î–æ—Å—Ç–∞–≤ –æ–¥–∏–Ω —à–∞—Ä –∏–∑ –æ–¥–Ω–æ–π –∫–æ—Ä–æ–±–∫–∏, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—Å–µ—Ö –∫–æ—Ä–æ–±–æ–∫?',
    '–ß–∏—Å–ª–æ —É–≤–µ–ª–∏—á–∏–ª–∏ –Ω–∞ 25%, –∞ –∑–∞—Ç–µ–º —É–º–µ–Ω—å—à–∏–ª–∏ –Ω–∞ 20%. –ë–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ —Å—Ç–∞–ª–æ —á–∏—Å–ª–æ –∏ –Ω–∞ —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤?',
    '–í –ø—Ä—É–¥—É —Ä–∞—Å—Ç—É—Ç –ª–∏–ª–∏–∏. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –ø—Ä—É–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä–æ–µ—Ç—Å—è –ª–∏–ª–∏—è–º–∏ –∑–∞ 30 –¥–Ω–µ–π, –∑–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø–æ–∫—Ä–æ–µ—Ç—Å—è –ø–æ–ª–æ–≤–∏–Ω–∞ –ø—Ä—É–¥–∞?',
    '–ï—Å—Ç—å 12 –º–æ–Ω–µ—Ç, –æ–¥–Ω–∞ —Ñ–∞–ª—å—à–∏–≤–∞—è (–ª–µ–≥—á–µ). –ö–∞–∫ –∑–∞ 3 –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è –Ω–∞ –≤–µ—Å–∞—Ö –Ω–∞–π—Ç–∏ —Ñ–∞–ª—å—à–∏–≤—É—é –º–æ–Ω–µ—Ç—É?'
])}

–ü–æ–¥—É–º–∞–π—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ –∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ! ü§ì"""
            },
            {
                "name": "–†–∏—Ç–º –∏ –¥–≤–∏–∂–µ–Ω–∏–µ",
                "description": "–§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —Å–º–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è",
                "task": """üéµ –†–∏—Ç–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ:

1Ô∏è‚É£ –í—Å—Ç–∞–Ω—å—Ç–µ –ø—Ä—è–º–æ
2Ô∏è‚É£ –•–ª–æ–ø–∞–π—Ç–µ –≤ –ª–∞–¥–æ—à–∏ –≤ —Ç–∞–∫–æ–º —Ä–∏—Ç–º–µ: —Ö–ª–æ–ø-—Ö–ª–æ–ø-–ø–∞—É–∑–∞-—Ö–ª–æ–ø
3Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–π –Ω–æ–≥–æ–π –≤ —Ç–æ–º –∂–µ —Ä–∏—Ç–º–µ
4Ô∏è‚É£ –¢–µ–ø–µ—Ä—å –ª–µ–≤–æ–π –Ω–æ–≥–æ–π –≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–º —Ä–∏—Ç–º–µ
5Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ –∫–∏–≤–∞–Ω–∏–µ –≥–æ–ª–æ–≤–æ–π –∫–∞–∂–¥—ã–µ 4 —Å—á–µ—Ç–∞
6Ô∏è‚É£ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã

–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏–π. –≠—Ç–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –≤–∞—à–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ —ç–Ω–µ—Ä–≥–∏—é! üíÉüï∫"""
            }
        ]
    
    def get_breathing_exercise(self) -> Dict:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É"""
        return random.choice(self.breathing_exercises)
    
    def get_coaching_question(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –∫–æ—É—á–∏–Ω–≥–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å"""
        return random.choice(self.coaching_questions)
    
    def get_mini_game(self) -> Dict:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –º–∏–Ω–∏-–∏–≥—Ä—É"""
        return random.choice(self.mini_games)
    
    def get_personalized_intervention(self, user_triggers: List[str]) -> Dict:
        """–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        # –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å)
        trigger_keywords = {
            '—Å–ª–∞–¥–∫–æ–µ': ['–µ–¥–∞', '–≤–∫—É—Å', '—Å–∞—Ö–∞—Ä'],
            '–∫—É—Ä–µ–Ω–∏–µ': ['–¥—ã—Ö–∞–Ω–∏–µ', '—Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ'],
            '—Å–º–∞—Ä—Ç—Ñ–æ–Ω': ['–≤–Ω–∏–º–∞–Ω–∏–µ', '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è'],
            '–∞–ª–∫–æ–≥–æ–ª—å': ['—Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ', '—Å—Ç—Ä–µ—Å—Å'],
            '–ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—è': ['–º–æ—Ç–∏–≤–∞—Ü–∏—è', '–¥–µ–π—Å—Ç–≤–∏–µ']
        }
        
        # –í—ã–±–∏—Ä–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
        if any('—Å–ª–∞–¥–∫–æ–µ' in trigger.lower() for trigger in user_triggers):
            return {
                'type': 'coaching',
                'content': "üçé –ß—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ —è –º–æ–≥—É —Å—ä–µ—Å—Ç—å –≤–º–µ—Å—Ç–æ —Å–ª–∞–¥–∫–æ–≥–æ? –ö–∞–∫–æ–π –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –≤–∫—É—Å –ø–æ—Ä–∞–¥—É–µ—Ç –º–µ–Ω—è –±–æ–ª—å—à–µ?"
            }
        elif any('–∫—É—Ä–µ–Ω–∏–µ' in trigger.lower() for trigger in user_triggers):
            return {
                'type': 'breathing',
                'content': self.get_breathing_exercise()
            }
        elif any('—Å–º–∞—Ä—Ç—Ñ–æ–Ω' in trigger.lower() for trigger in user_triggers):
            return {
                'type': 'game',
                'content': random.choice([g for g in self.mini_games if '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é' in g['description']])
            }
        else:
            # –û–±—â–∞—è –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏—è
            intervention_types = ['breathing', 'coaching', 'game']
            chosen_type = random.choice(intervention_types)
            
            if chosen_type == 'breathing':
                return {'type': 'breathing', 'content': self.get_breathing_exercise()}
            elif chosen_type == 'coaching':
                return {'type': 'coaching', 'content': self.get_coaching_question()}
            else:
                return {'type': 'game', 'content': self.get_mini_game()}
